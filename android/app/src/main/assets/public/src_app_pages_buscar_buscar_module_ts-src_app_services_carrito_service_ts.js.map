{"version":3,"file":"src_app_pages_buscar_buscar_module_ts-src_app_services_carrito_service_ts.js","mappings":"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","sources":["./src/app/pages/buscar/buscar-routing.module.ts","./src/app/pages/buscar/buscar.module.ts","./src/app/services/carrito.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BuscarPage } from './buscar.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BuscarPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BuscarPageRoutingModule {}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { BuscarPageRoutingModule } from './buscar-routing.module';\nimport { BuscarPage } from './buscar.page';\nimport { ComponentsModule } from 'app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BuscarPageRoutingModule,\n    ReactiveFormsModule,\n    ComponentsModule\n  ],\n  declarations: [BuscarPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class BuscarPageModule { }\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { SeleccionadoresModel, TitulosModel } from 'app/models/titulos.model';\n\nexport interface IProduct {\n  id: number;\n  tiendaId: string;\n  tienda: string;\n  productoId: string;\n  producto: string;\n  precioVlr: number;\n  amount: number;\n  imagen: string;\n  observaciones: string;\n  titulos: {};\n}\n\nexport interface IPago {\n  id: number;\n  pago: string;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CarritoService {\n  data: IProduct[] = [\n    { id: 0, tienda: '', tiendaId: '', productoId: '', producto: 'Pizza Salami', precioVlr: 8.99, amount: 0, imagen: '', observaciones: '', titulos: {} },\n    { id: 1, tienda: '', tiendaId: '', productoId: '', producto: 'Pizza Classic', precioVlr: 5.49, amount: 0, imagen: '', observaciones: '', titulos: {} },\n    { id: 2, tienda: '', tiendaId: '', productoId: '', producto: 'Sliced Bread', precioVlr: 4.99, amount: 0, imagen: '', observaciones: '', titulos: {} },\n    { id: 3, tienda: '', tiendaId: '', productoId: '', producto: 'Salad', precioVlr: 6.99, amount: 0, imagen: '', observaciones: '', titulos: {} }\n  ];\n\n  private cart = [];\n  private cartItemCount = new BehaviorSubject(0);\n\n  constructor() { }\n\n  getProducts() {\n    return this.data;\n  }\n\n  getCart() {\n    return this.cart;\n  }\n\n  getCartItemCount() {\n    return this.cartItemCount;\n  }\n\n  addProduct(product) {\n    let added = false;\n    for (let p of this.cart) {\n      if (p.id === product.id) {\n        p.amount += 1;\n        added = true;\n        break;\n      }\n    }\n    if (!added) {\n      product.amount = 1;\n      this.cart.push(product);\n    }\n    this.cartItemCount.next(this.cartItemCount.value + 1);\n  }\n\n  decreaseProduct(product) {\n    for (let [index, p] of this.cart.entries()) {\n      if (p.id === product.id) {\n        p.amount -= 1;\n        if (p.amount == 0) {\n          this.cart.splice(index, 1);\n        }\n      }\n    }\n    this.cartItemCount.next(this.cartItemCount.value - 1);\n  }\n\n  clear() {\n    for (let [index, p] of this.cart.entries()) {\n      // console.log('p:', index, p);\n      this.cartItemCount.next(this.cartItemCount.value - p.amount);\n      p.amount = 0;\n    }\n    for (let index = this.cart.length - 1; index >= 0; index--) {\n      this.cart.splice(index, 1);\n    }\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}