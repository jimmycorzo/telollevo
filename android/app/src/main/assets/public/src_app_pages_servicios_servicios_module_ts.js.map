{"version":3,"file":"src_app_pages_servicios_servicios_module_ts.js","mappings":"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","sources":["./src/app/pages/servicios/servicios-routing.module.ts","./src/app/pages/servicios/servicios.module.ts","./src/app/pages/servicios/servicios.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ServiciosPage } from './servicios.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ServiciosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServiciosPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { ServiciosPageRoutingModule } from './servicios-routing.module';\nimport { ServiciosPage } from './servicios.page';\nimport { ComponentsModule } from 'app/components/components.module';\nimport { FirebaseService } from 'app/services/firebase.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ServiciosPageRoutingModule,\n    ComponentsModule,\n  ],\n  declarations: [ServiciosPage],\n  providers: [\n    FirebaseService,\n  ]\n\n})\nexport class ServiciosPageModule { }\n","import { Component, OnInit, HostBinding, ViewChild, ElementRef } from '@angular/core';\nimport { Observable, Subscription, merge, BehaviorSubject } from 'rxjs';\nimport { DataStore } from 'app/shell/data-store';\nimport { FirebaseService } from 'app/services/firebase.service';\nimport { ModalController } from '@ionic/angular';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { ServiciosModel } from 'app/models/servicios.model';\nimport { CarritoPage } from 'app/pages/carrito/carrito.page';\nimport { CarritoService } from 'app/services/carrito.service';\n\n@Component({\n  selector: 'app-servicios',\n  templateUrl: './servicios.page.html',\n  styleUrls: ['./styles/servicios.page.scss', './styles/servicios.shell.scss'],\n})\nexport class ServiciosPage implements OnInit {\n  searchQuery = '';\n  subscriptions: Subscription;\n  segmentValue = '';\n  servicios: Array<ServiciosModel>;\n  serviciosList: Array<ServiciosModel>;\n  filtered: Array<ServiciosModel>;\n  serviciosDataStore: DataStore<Array<ServiciosModel>>;\n  stateSubscriptionServicios: Subscription;\n  cartItemCount: BehaviorSubject<number>;\n  cart = [];\n  products = [];\n\n  @HostBinding('class.is-shell') get isShell() {\n    return (this) ? true : false;\n  }\n\n  @ViewChild('detalles', { static: false, read: ElementRef }) fab: ElementRef;\n\n  constructor(\n    public firebaseService: FirebaseService,\n    private modalCtrl: ModalController,\n    private route: ActivatedRoute,\n    private cartService: CarritoService,\n  ) { }\n\n  ngOnDestroy(): void {\n    this.stateSubscriptionServicios.unsubscribe();\n  }\n\n  ngOnInit() {\n    this.products = this.cartService.getProducts();\n    this.cart = this.cartService.getCart();\n    this.cartItemCount = this.cartService.getCartItemCount();\n\n    this.subscriptions = this.route.data.subscribe(\n      (resolvedRouteData) => {\n\n        const dataSource: Observable<Array<ServiciosModel>> = this.firebaseService.getServiciosDataSource();\n\n        const dataStore: DataStore<Array<ServiciosModel>> = this.firebaseService.getServiciosStore(dataSource);\n\n        this.serviciosDataStore = dataStore;\n\n        this.stateSubscriptionServicios = merge(\n          this.serviciosDataStore.state,\n        ).subscribe(\n          (state) => {\n            this.servicios = state;\n            this.servicios.forEach(element => {\n              element.imagenes.sort();\n            });\n            this.serviciosList = state;\n            this.searchList();\n          },\n          (error) => console.log(error),\n          () => console.log('stateSubscriptionServicios completed')\n        );\n      },\n      (error) => console.log(error)\n    );\n  }\n\n  segmentChanged(ev) {\n    this.segmentValue = ev.detail.value;\n    this.searchList();\n  }\n\n  searchList() {\n    const query = (this.searchQuery && this.searchQuery !== null) ? this.searchQuery : '';\n    this.serviciosList = this.filterList(this.servicios, query);\n  }\n\n  filterList(list, query) {\n    const lista = list.filter(item =>\n      item.servicio.toLowerCase().includes(query.toLowerCase())\n    );\n    return lista;\n  }\n\n  ionViewWillLeave() {\n    this.subscriptions.unsubscribe();\n  }\n\n  searchForm() {\n    console.log('search form');\n  }\n\n  addToCart(product) {\n    this.cartService.addProduct(product);\n  }\n\n\n  async openCart() {\n\n    let modal = await this.modalCtrl.create({\n      component: CarritoPage,\n      cssClass: 'cart-modal'\n    });\n    modal.onWillDismiss().then(() => {\n    });\n    modal.present();\n  }\n\n\n  getTotal() {\n    return this.cart.reduce((i, j) => i + j.precioVlr * j.amount, 0);\n  }\n\n  close() {\n    this.modalCtrl.dismiss();\n  }\n\n  checkout() {\n  }\n\n}\n"],"names":["Component","HostBinding","ViewChild","ElementRef","merge","FirebaseService","ModalController","ActivatedRoute","CarritoPage","CarritoService","ServiciosPage","constructor","firebaseService","modalCtrl","route","cartService","isShell","ngOnDestroy","stateSubscriptionServicios","unsubscribe","ngOnInit","products","getProducts","cart","getCart","cartItemCount","getCartItemCount","subscriptions","data","subscribe","resolvedRouteData","dataSource","getServiciosDataSource","dataStore","getServiciosStore","serviciosDataStore","state","servicios","forEach","element","imagenes","sort","serviciosList","searchList","error","console","log","segmentChanged","ev","segmentValue","detail","value","query","searchQuery","filterList","list","lista","filter","item","servicio","toLowerCase","includes","ionViewWillLeave","searchForm","addToCart","product","addProduct","openCart","modal","create","component","cssClass","onWillDismiss","then","present","getTotal","reduce","i","j","precioVlr","amount","close","dismiss","checkout","args","static","read","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}